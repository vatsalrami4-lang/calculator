:root{
  --g1:#0f2027;
  --g2:#203a43;
  --g3:#2c5364;
  --card: rgba(255,255,255,0.04);
  --accent: #8bd3ff;
  --muted: #9fb0c8;
  --text: #eaf6ff;
  font-family: Inter, system-ui, -apple-system, "Segoe UI", Roboto, Arial;
  font-size: 15px;
}

/* animated moonlit asteroid gradient */
html,body{height:100%;margin:0;background:#0f2027;color:var(--text)}
body {
  background: linear-gradient(120deg,var(--g1),var(--g2),var(--g3));
  background-size: 400% 400%;
  animation: moonFlow 12s ease infinite;
}
@keyframes moonFlow {
  0%{background-position:0% 50%}
  50%{background-position:100% 50%}
  100%{background-position:0% 50%}
}

#app{max-width:1100px;margin:26px auto;padding:20px}
.header{display:flex;justify-content:space-between;align-items:center;margin-bottom:18px}
.brand{font-weight:800;font-size:1.2rem}
.brand small{display:block;font-weight:400;font-size:0.7rem;color:var(--muted)}
.top-right{display:flex;gap:8px;align-items:center}
#search{padding:8px 10px;border-radius:8px;border:none;background:rgba(255,255,255,0.03);color:var(--text);width:260px}
.suggestions{position:absolute;margin-top:8px;background:rgba(255,255,255,0.03);border-radius:8px;box-shadow:0 8px 20px rgba(2,8,20,0.5);overflow:hidden;z-index:50}
.suggestions div{padding:8px 10px;cursor:pointer}
.suggestions div:hover{background:rgba(255,255,255,0.02)}

.header button{background:transparent;border:none;color:var(--text);cursor:pointer;font-size:18px}

.main{display:flex;gap:18px}
.left{flex:1}
.right{width:360px}

.upload-box{
  display:flex;align-items:center;gap:12px;padding:12px;border-radius:10px;background:var(--card);
  border:1px solid rgba(255,255,255,0.06);cursor:pointer;
}
.upload-box input{display:none}
.hint{color:var(--muted);font-size:0.9rem}

.player-card{margin-top:12px;background:linear-gradient(180deg, rgba(255,255,255,0.03), rgba(255,255,255,0.02));padding:14px;border-radius:12px;border:1px solid rgba(255,255,255,0.06)}
.meta-row{display:flex;justify-content:space-between;align-items:center;gap:12px}
.now-title{font-weight:700}
.now-artist{color:var(--muted);font-size:0.9rem}

.controls button{background:transparent;border:1px solid rgba(255,255,255,0.06);padding:8px 10px;border-radius:8px;cursor:pointer;color:var(--text)}
.controls .big{font-size:18px;padding:10px 14px;background:linear-gradient(90deg,var(--accent),#b59bff);color:#072026;border:none}

.wave{width:100%;height:96px;border-radius:8px;margin-top:12px;background:linear-gradient(180deg, rgba(255,255,255,0.01), rgba(255,255,255,0.008));border:1px solid rgba(255,255,255,0.05);display:block}

.seek-row{display:flex;align-items:center;gap:10px;margin-top:10px}
#seek{flex:1}
.time{color:var(--muted);font-size:0.9rem}

.opts-row{display:flex;justify-content:space-between;align-items:center;margin-top:12px}
.opts-row label{color:var(--muted);font-size:0.9rem;display:flex;gap:8px;align-items:center}
.opts-row select{background:transparent;color:var(--text);border:1px solid rgba(255,255,255,0.04);padding:4px 6px;border-radius:6px}
.opts-row button{background:transparent;border:1px solid rgba(255,255,255,0.04);padding:6px 8px;border-radius:8px;color:var(--text);cursor:pointer}

.recommend-row{margin-top:14px}
.recs{list-style:none;padding:0;margin:0;display:flex;gap:8px;flex-wrap:wrap}
.recs li{background:rgba(255,255,255,0.03);padding:6px 8px;border-radius:8px;font-size:13px;cursor:pointer}

.library-card{background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));padding:12px;border-radius:12px;border:1px solid rgba(255,255,255,0.06)}
.lib-head{font-weight:700;margin-bottom:8px}
.lib-actions{display:flex;gap:8px;margin-bottom:8px}
.lib-actions button{background:transparent;border:1px solid rgba(255,255,255,0.04);padding:6px 8px;border-radius:8px;color:var(--text);cursor:pointer}

.playlist{list-style:none;padding:0;margin:0;max-height:64vh;overflow:auto}
.playlist li{display:flex;justify-content:space-between;align-items:center;padding:8px;border-radius:8px;cursor:pointer;border-bottom:1px solid rgba(255,255,255,0.02)}
.playlist li:hover{background:rgba(255,255,255,0.02)}
.playlist li.active{background:linear-gradient(90deg, rgba(139,211,255,0.08), rgba(181,155,255,0.06))}
.meta{flex:1;min-width:0;margin-right:8px}
.title{font-weight:600}
.artist{color:var(--muted);font-size:0.85rem}
.actions button{background:transparent;border:none;color:var(--muted);cursor:pointer;padding:6px 8px}

.footer{margin-top:18px;color:var(--muted);text-align:center;font-size:13px}

/* modal */
.modal{position:fixed;inset:0;display:flex;align-items:center;justify-content:center;background:rgba(2,6,12,0.5);z-index:60}
.modal.hidden{display:none}
.modal-inner{background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));padding:14px;border-radius:8px;width:90%;max-width:640px;border:1px solid rgba(255,255,255,0.06)}
.modal textarea{width:100%;padding:10px;border-radius:6px;border:1px solid rgba(255,255,255,0.04);background:transparent;color:var(--text);min-height:150px}
.modal-actions{display:flex;justify-content:flex-end;gap:8px;margin-top:8px}
.modal-actions button{padding:8px 10px;border-radius:6px;border:none;cursor:pointer;background:linear-gradient(90deg,var(--accent),#b59bff);color:#072026}

/* small screens */
@media(max-width:900px){
  .main{flex-direction:column}
  .right{width:100%}
  #search{width:160px}
}
